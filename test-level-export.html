<!DOCTYPE html>
<html>

<head>
    <title>Level Export Test</title>
</head>

<body>
    <h1>Level Export Test</h1>

    <label>Level: <input type="number" id="lvlValue" value="1" min="1" max="99"></label><br>
    <label>Merc Level: <input type="number" id="merclvlValue" value="1" min="1" max="99"></label><br>

    <button onclick="testExport()">Test Export</button>

    <pre id="output"></pre>

    <script>
        // Simplified version of exportCharacterData
        function exportCharacterData() {
            const level = parseInt(document.getElementById('lvlValue')?.value) || 1;
            const mercLevel = parseInt(document.getElementById('merclvlValue')?.value) || 1;

            return {
                character: { level },
                mercenary: { level: mercLevel }
            };
        }

        function testExport() {
            const output = document.getElementById('output');

            // Read directly from DOM
            const lvlInput = document.getElementById('lvlValue');
            const mercLvlInput = document.getElementById('merclvlValue');

            output.textContent = 'DOM Values:\n';
            output.textContent += `  lvlValue.value = "${lvlInput.value}" (type: ${typeof lvlInput.value})\n`;
            output.textContent += `  merclvlValue.value = "${mercLvlInput.value}" (type: ${typeof mercLvlInput.value})\n\n`;

            // Parse them
            output.textContent += 'Parsed Values:\n';
            output.textContent += `  parseInt(lvlValue.value) = ${parseInt(lvlInput.value)}\n`;
            output.textContent += `  parseInt(merclvlValue.value) = ${parseInt(mercLvlInput.value)}\n\n`;

            // Export
            const exported = exportCharacterData();
            output.textContent += 'Exported Data:\n';
            output.textContent += JSON.stringify(exported, null, 2);
        }
    </script>
</body>

</html>